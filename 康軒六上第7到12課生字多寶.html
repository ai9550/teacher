<!doctype html>
<html lang="zh-TW">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åº·è»’åœ‹èªä¸‰ä¸Š1-2èª²ç”Ÿå­—</title>
  <style>
        body {
            box-sizing: border-box;
            font-family: 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .game-container {
            max-width: 1000px;
            width: 100%;
            text-align: center;
            position: relative;
        }

        .lesson-buttons {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .lesson-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 100px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .lesson-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #45a049, #4CAF50);
        }

        .lesson-btn.active {
            background: linear-gradient(45deg, #FF6B6B, #FF5252);
            transform: scale(1.05);
        }

        .title {
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            color: rgba(255,255,255,0.9);
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        .game-info {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            color: white;
        }

        .question-number {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .instruction {
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .cards-container {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .card {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: white;
            border: 8px solid white;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: scale(1.05);
        }

        .card.left {
            background: white;
        }

        .card.right {
            background: white;
        }

        .character {
            font-size: 3.5rem;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
            user-select: none;
            min-width: 80px;
            text-align: center;
            position: absolute;
        }

        .character:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .character.selected {
            background: #4CAF50;
            color: white;
            transform: scale(1.2);
        }

        .character.correct {
            background: #4CAF50;
            color: white;
            animation: bounce 0.6s ease;
        }

        .character.wrong {
            background: #f44336;
            color: white;
            animation: shake 0.6s ease;
        }

        @keyframes bounce {
            0%, 20%, 60%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            80% { transform: translateY(-10px); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }

        .controls {
            margin: -65px 0 5px 0;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            margin: 20px 0;
            font-size: 1.3rem;
            font-weight: bold;
            min-height: 30px;
        }

        .feedback.correct {
            color: #4CAF50;
        }

        .feedback.wrong {
            color: #f44336;
        }

        .score {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px 25px;
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 20px 0;
        }

        .game-complete {
            background: rgba(76, 175, 80, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            color: white;
            margin: 30px 0;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #f0f;
            animation: confetti-fall 3s linear forwards;
            z-index: 1000;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .ribbon {
            position: fixed;
            top: 0;
            width: 100px;
            height: 100%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3);
            background-size: 400% 400%;
            animation: ribbon-wave 2s ease-in-out, gradient-shift 3s ease-in-out;
            z-index: 999;
            opacity: 0;
        }

        .ribbon.left {
            left: 0;
            transform: translateX(-100%);
        }

        .ribbon.right {
            right: 0;
            transform: translateX(100%);
        }

        @keyframes ribbon-wave {
            0% {
                opacity: 0;
                transform: translateX(-100%);
            }
            20% {
                opacity: 1;
                transform: translateX(0);
            }
            80% {
                opacity: 1;
                transform: translateX(0);
            }
            100% {
                opacity: 0;
                transform: translateX(-100%);
            }
        }

        @keyframes gradient-shift {
            0%, 100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }

        @media (max-width: 768px) {
            .lesson-buttons {
                position: relative;
                left: auto;
                top: auto;
                transform: none;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                margin-bottom: 20px;
                gap: 10px;
            }
            
            .lesson-btn {
                font-size: 0.9rem;
                padding: 8px 15px;
                min-width: 80px;
            }
            
            .cards-container {
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }
            
            .card {
                width: 250px;
                height: 250px;
            }
            
            .character {
                font-size: 1.5rem;
                min-width: 40px;
            }
            
            .title {
                font-size: 2rem;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="lesson-buttons"><button class="lesson-btn active" onclick="switchLesson(7)">ç¬¬ä¸ƒèª²</button> <button class="lesson-btn" onclick="switchLesson(8)">ç¬¬å…«èª²</button> <button class="lesson-btn" onclick="switchLesson(9)">ç¬¬ä¹èª²</button> <button class="lesson-btn" onclick="switchLesson(10)">ç¬¬åèª²</button> <button class="lesson-btn" onclick="switchLesson(11)">ç¬¬åä¸€èª²</button> <button class="lesson-btn" onclick="switchLesson(12)">ç¬¬åäºŒèª²</button>
  </div>
  <div class="game-container">
   <h1 class="title" id="gameTitle">åº·è»’åœ‹èªå…­ä¸Šç¬¬ä¸ƒèª²ç”Ÿå­—</h1>
   <div class="game-info">
    <div class="question-number">
     ç¬¬ <span id="currentQuestion">1</span> é¡Œ / å…± <span id="totalQuestions">17</span> é¡Œã€€å¾—åˆ†: <span id="score">0</span> åˆ†
    </div>
   </div>
   <div class="cards-container">
    <div class="card left" id="leftCard"><!-- å·¦å¡å­—ç¬¦å°‡åœ¨é€™è£¡ç”Ÿæˆ -->
    </div>
    <div class="card right" id="rightCard"><!-- å³å¡å­—ç¬¦å°‡åœ¨é€™è£¡ç”Ÿæˆ -->
    </div>
   </div>
   <div class="feedback" id="feedback"></div>
   <div class="controls"><button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>ä¸‹ä¸€é¡Œ</button> <button class="btn" id="restartBtn" onclick="restartGame()">é‡æ–°é–‹å§‹</button>
   </div>
   <div id="gameComplete" class="game-complete" style="display: none;">
    <h2>ğŸ‰ éŠæˆ²å®Œæˆï¼</h2>
    <p>æœ€çµ‚å¾—åˆ†ï¼š<span id="finalScore"></span> åˆ† / <span id="maxScore">17</span> åˆ†</p>
    <p>è¡¨ç¾å¾ˆæ£’ï¼ç¹¼çºŒåŠ æ²¹ï¼</p>
   </div>
  </div>
  <script>
        // å„èª²ç”Ÿå­—è³‡æ–™
        const lessonData = {
            7: {
                title: "åº·è»’åœ‹èªå…­ä¸Šç¬¬ä¸ƒèª²ç”Ÿå­—",
                characters: "ä»°ç·¬ç”¸è¸çµ¨æ¿ºè¥¬å¼„æ£æ‰¹å¾‘è¬¹æ°ä¹çš†å—¤å—¯".split('')
            },
            8: {
                title: "åº·è»’åœ‹èªå…­ä¸Šç¬¬å…«èª²ç”Ÿå­—", 
                characters: "éš™ç«„æ—¨æ‚ å¯“é·¸ç‹¡çªŸçŒ¾é¨™å½èª‡è¾¨è¬Šè«·æƒ•å¯Ÿè”½è™›".split('')
            },
            9: {
                title: "åº·è»’åœ‹èªå…­ä¸Šç¬¬ä¹èª²ç”Ÿå­—",
                characters: "äº­æ”¯èª˜ç¸£æ‡¿é­æ——å¹Ÿå´—å§“å€˜åƒ®è–°æ’¤è«¸è‘›æ…ä¸".split('')
            },
            10: {
                title: "åº·è»’åœ‹èªå…­ä¸Šç¬¬åèª²ç”Ÿå­—",
                characters: "è€¶éƒŠæ…ˆç¥¥åŠˆå•ªé›¶å­å€¦è¾¯ç§è²§ä¿‚è¶ç¨çƒ˜è¡·é‹¼".split('')
            },
            11: {
                title: "åº·è»’åœ‹èªå…­ä¸Šç¬¬åä¸€èª²ç”Ÿå­—",
                characters: "æ¥“æ¢æ½‘è“å»³é¡çŒé†‰é‡€æ›¿è«’è„£å¥”ä¹æŸç…¥æ©‡éˆ´è¿´".split('')
            },
            12: {
                title: "åº·è»’åœ‹èªå…­ä¸Šç¬¬åäºŒèª²ç”Ÿå­—",
                characters: "ç•°é °è“¬å‹ƒé€›åº­è‚…è–”è–‡ç€°åˆ®æ‹¬èèŸ»å„˜".split('')
            }
        };
        
        let currentLesson = 7;
        let characters = lessonData[7].characters;
        let currentQuestionNum = 1;
        let score = 0;
        let gameQuestions = [];
        let currentAnswer = '';
        let selectedChars = [];
        let questionAnswered = false;

        // åˆ‡æ›èª²ç¨‹
        function switchLesson(lessonNum) {
            currentLesson = lessonNum;
            characters = lessonData[lessonNum].characters;
            
            // æ›´æ–°æ¨™é¡Œ
            document.getElementById('gameTitle').textContent = lessonData[lessonNum].title;
            
            // æ›´æ–°ç¸½é¡Œæ•¸é¡¯ç¤º
            document.getElementById('totalQuestions').textContent = characters.length;
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('.lesson-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // é‡æ–°é–‹å§‹éŠæˆ²
            restartGame();
        }

        // ç”ŸæˆéŠæˆ²é¡Œç›®
        function generateQuestions() {
            gameQuestions = [];
            const totalQuestions = characters.length; // æ ¹æ“šå­—æ•¸æ±ºå®šé¡Œæ•¸
            for (let i = 0; i < totalQuestions; i++) {
                const question = generateQuestion();
                gameQuestions.push(question);
            }
        }

        // ç”Ÿæˆå–®å€‹é¡Œç›®
        function generateQuestion() {
            const shuffled = [...characters].sort(() => Math.random() - 0.5);
            
            // é¸æ“‡å…±åŒå­—ç¬¦
            const commonChar = shuffled[0];
            
            // ç‚ºå·¦å¡é¸æ“‡7å€‹å…¶ä»–å­—ç¬¦
            const leftOthers = shuffled.slice(1, 8);
            const leftCard = [commonChar, ...leftOthers].sort(() => Math.random() - 0.5);
            
            // ç‚ºå³å¡é¸æ“‡7å€‹å…¶ä»–å­—ç¬¦ï¼ˆä¸èˆ‡å·¦å¡é‡è¤‡ï¼‰
            const rightOthers = shuffled.slice(8, 15);
            const rightCard = [commonChar, ...rightOthers].sort(() => Math.random() - 0.5);
            
            return {
                leftCard,
                rightCard,
                answer: commonChar
            };
        }

        // ç”Ÿæˆ4x4æ ¼ç·šä½ç½®ï¼ˆåœ“åœˆå…§ï¼‰
        function generateGridPositions(count, cardRadius) {
            const positions = [];
            const gridSize = 4;
            const cellSize = (cardRadius * 2) / gridSize;
            const startOffset = -cardRadius + cellSize / 2;
            
            // ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„æ ¼å­ä½ç½®
            const allGridPositions = [];
            for (let row = 0; row < gridSize; row++) {
                for (let col = 0; col < gridSize; col++) {
                    const x = startOffset + col * cellSize;
                    const y = startOffset + row * cellSize;
                    
                    // æª¢æŸ¥é€™å€‹ä½ç½®æ˜¯å¦åœ¨åœ“åœˆå…§
                    const distanceFromCenter = Math.sqrt(x * x + y * y);
                    if (distanceFromCenter <= cardRadius * 0.85) { // ç•™ä¸€é»é‚Šè·
                        allGridPositions.push({ x, y });
                    }
                }
            }
            
            // éš¨æ©Ÿé¸æ“‡8å€‹ä½ç½®æ”¾ç½®æ–‡å­—
            const shuffledPositions = [...allGridPositions].sort(() => Math.random() - 0.5);
            return shuffledPositions.slice(0, count);
        }

        // é¡¯ç¤ºç•¶å‰é¡Œç›®
        function displayQuestion() {
            const question = gameQuestions[currentQuestionNum - 1];
            currentAnswer = question.answer;
            selectedChars = [];
            questionAnswered = false;
            
            // æ¸…ç©ºå¡ç‰Œ
            document.getElementById('leftCard').innerHTML = '';
            document.getElementById('rightCard').innerHTML = '';
            
            // ç”Ÿæˆæ ¼ç·šä½ç½®
            const leftPositions = generateGridPositions(8, 150);
            const rightPositions = generateGridPositions(8, 150);
            
            // ç‚ºé€™ä¸€é¡Œå‹•æ…‹åˆ†é…é¡è‰²ï¼Œæ¯å€‹å­—ç¬¦éƒ½æœ‰ä¸åŒé¡è‰²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„ç­”æ¡ˆå­—ï¼‰
            const allColors = ['#E53E3E', '#00B5D8', '#3182CE', '#38A169', '#D69E2E', '#9F7AEA', '#319795', '#DD6B20', '#805AD5', '#2D3748', '#C53030', '#0987A0'];
            const usedColors = new Set();
            const questionColors = {};
            
            // ç‚ºæ‰€æœ‰å­—ç¬¦åˆ†é…ä¸åŒé¡è‰²ï¼ˆåŒ…æ‹¬é‡è¤‡çš„ç­”æ¡ˆå­—ï¼‰
            const allPositions = [...question.leftCard, ...question.rightCard];
            allPositions.forEach((char, index) => {
                const colorKey = `${char}_${index}`; // ä½¿ç”¨å­—ç¬¦+ä½ç½®ä½œç‚ºå”¯ä¸€éµ
                let availableColors = allColors.filter(color => !usedColors.has(color));
                if (availableColors.length === 0) {
                    // å¦‚æœé¡è‰²ç”¨å®Œäº†ï¼Œé‡ç½®å¯ç”¨é¡è‰²
                    usedColors.clear();
                    availableColors = [...allColors];
                }
                const randomColor = availableColors[Math.floor(Math.random() * availableColors.length)];
                questionColors[colorKey] = randomColor;
                usedColors.add(randomColor);
            });
            
            // é¡¯ç¤ºå·¦å¡å­—ç¬¦
            question.leftCard.forEach((char, index) => {
                const charElement = document.createElement('div');
                charElement.className = 'character';
                charElement.textContent = char;
                charElement.style.left = `calc(50% + ${leftPositions[index].x}px)`;
                charElement.style.top = `calc(50% + ${leftPositions[index].y}px)`;
                
                // éš¨æ©Ÿæ—‹è½‰è§’åº¦ (-30åº¦åˆ°30åº¦)
                const randomRotation = Math.random() * 60 - 30;
                charElement.style.transform = `translate(-50%, -50%) rotate(${randomRotation}deg)`;
                
                const colorKey = `${char}_${index}`;
                charElement.style.color = questionColors[colorKey] || '#333';
                charElement.style.backgroundColor = 'transparent';
                charElement.onclick = () => selectCharacter(char, charElement, 'left');
                document.getElementById('leftCard').appendChild(charElement);
            });
            
            // é¡¯ç¤ºå³å¡å­—ç¬¦
            question.rightCard.forEach((char, index) => {
                const charElement = document.createElement('div');
                charElement.className = 'character';
                charElement.textContent = char;
                charElement.style.left = `calc(50% + ${rightPositions[index].x}px)`;
                charElement.style.top = `calc(50% + ${rightPositions[index].y}px)`;
                
                // éš¨æ©Ÿæ—‹è½‰è§’åº¦ (-30åº¦åˆ°30åº¦)
                const randomRotation = Math.random() * 60 - 30;
                charElement.style.transform = `translate(-50%, -50%) rotate(${randomRotation}deg)`;
                
                const colorKey = `${char}_${index + 8}`; // å³å¡å¾ç¬¬8å€‹ä½ç½®é–‹å§‹
                charElement.style.color = questionColors[colorKey] || '#333';
                charElement.style.backgroundColor = 'transparent';
                charElement.onclick = () => selectCharacter(char, charElement, 'right');
                document.getElementById('rightCard').appendChild(charElement);
            });
            
            // æ›´æ–°ç•Œé¢
            document.getElementById('currentQuestion').textContent = currentQuestionNum;
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('nextBtn').disabled = true;
        }

        // é¸æ“‡å­—ç¬¦
        function selectCharacter(char, element, side) {
            if (questionAnswered) return;
            
            // æ¨™è¨˜ç•¶å‰é¸æ“‡
            element.classList.add('selected');
            
            // ç›´æ¥æª¢æŸ¥ç­”æ¡ˆ
            checkAnswer(char, element);
        }

        // æª¢æŸ¥ç­”æ¡ˆ
        function checkAnswer(selectedChar, element) {
            questionAnswered = true;
            
            if (selectedChar === currentAnswer) {
                // ç­”å°äº†
                score += 1;
                document.getElementById('feedback').textContent = '';
                document.getElementById('feedback').className = 'feedback';
                
                // æ¨™è¨˜æ‰€æœ‰æ­£ç¢ºçš„å­—ç¬¦
                document.querySelectorAll('.character').forEach(el => {
                    if (el.textContent === currentAnswer) {
                        el.classList.add('correct');
                    }
                });
                
                // é¡¯ç¤ºå½©å¸¶æ…¶ç¥æ•ˆæœ
                showCelebration();
            } else {
                // ç­”éŒ¯äº† - ä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
                document.getElementById('feedback').textContent = '';
                document.getElementById('feedback').className = 'feedback';
                
                // æ¨™è¨˜éŒ¯èª¤çš„å­—ç¬¦å’Œæ­£ç¢ºç­”æ¡ˆ
                element.classList.add('wrong');
                document.querySelectorAll('.character').forEach(el => {
                    if (el.textContent === currentAnswer) {
                        el.classList.add('correct');
                    }
                });
            }
            
            // æ›´æ–°åˆ†æ•¸
            document.getElementById('score').textContent = score;
            
            // å•Ÿç”¨ä¸‹ä¸€é¡ŒæŒ‰éˆ•
            document.getElementById('nextBtn').disabled = false;
        }

        // é¡¯ç¤ºæ…¶ç¥æ•ˆæœ
        function showCelebration() {
            // å‰µå»ºå·¦å´å½©å¸¶
            const leftRibbon = document.createElement('div');
            leftRibbon.className = 'ribbon left';
            document.body.appendChild(leftRibbon);
            
            // å‰µå»ºå³å´å½©å¸¶
            const rightRibbon = document.createElement('div');
            rightRibbon.className = 'ribbon right';
            rightRibbon.style.animationDelay = '0.1s';
            document.body.appendChild(rightRibbon);
            
            // å‰µå»ºå½©ç´™æ•ˆæœ
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    createConfetti();
                }, i * 50);
            }
            
            // æ¸…ç†å½©å¸¶å…ƒç´ 
            setTimeout(() => {
                leftRibbon.remove();
                rightRibbon.remove();
            }, 3000);
        }

        // å‰µå»ºå½©ç´™
        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            
            // éš¨æ©Ÿé¡è‰²
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3', '#a8e6cf', '#ffd93d'];
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            // éš¨æ©Ÿä½ç½®
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
            confetti.style.animationDelay = Math.random() * 2 + 's';
            
            document.body.appendChild(confetti);
            
            // æ¸…ç†å½©ç´™å…ƒç´ 
            setTimeout(() => {
                confetti.remove();
            }, 5000);
        }

        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            if (currentQuestionNum < characters.length) {
                currentQuestionNum++;
                displayQuestion();
            } else {
                // éŠæˆ²çµæŸ
                document.getElementById('finalScore').textContent = score;
                document.getElementById('maxScore').textContent = characters.length;
                document.getElementById('gameComplete').style.display = 'block';
                document.getElementById('nextBtn').style.display = 'none';
            }
        }

        // é‡æ–°é–‹å§‹éŠæˆ²
        function restartGame() {
            currentQuestionNum = 1;
            score = 0;
            document.getElementById('score').textContent = '0';
            document.getElementById('gameComplete').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
            
            generateQuestions();
            displayQuestion();
        }

        // åˆå§‹åŒ–éŠæˆ²
        document.getElementById('totalQuestions').textContent = characters.length;
        generateQuestions();
        displayQuestion();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99fc363e507d56e8',t:'MTc2MzM1MDg4MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>